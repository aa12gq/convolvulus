/*! 
 Build based on gin-vue-admin 
 Time : 1705391497000 */
import{i as e,d as a,j as t}from"./autoCode-c4ad6525.js";import{W as l}from"./warningBar-4e9b9d77.js";import{t as o}from"./doc-46160848.js";import{v as u}from"./.pnpm-8206d43d.js";import"./index-e8818864.js";import"vue";const r={class:"gva-table-box"},V={class:"gva-btn-list gap-3 flex items-center"},d={class:"dialog-footer"},c=Object.assign({name:"AutoPkg"},{__name:"autoPkg",setup(c){const i=Vue.ref({packageName:"",label:"",desc:""}),n=Vue.ref({packageName:[{required:!0,message:"请输入包名",trigger:"blur"},{validator:(e,a,t)=>{/^\d+$/.test(a[0])?t(new Error("不能够以数字开头")):t()},trigger:"blur"}]}),s=Vue.ref(!1),m=()=>{s.value=!1,i.value={packageName:"",label:"",desc:""}},p=Vue.ref(null),f=async()=>{p.value.validate((async a=>{if(a){0===(await e(i.value)).code&&ElementPlus.ElMessage({type:"success",message:"添加成功",showClose:!0}),g(),m()}}))},v=Vue.ref([]),g=async()=>{const e=await a();0===e.code&&(v.value=e.data.pkgs)};return g(),(e,a)=>{const c=Vue.resolveComponent("el-button"),w=Vue.resolveComponent("el-icon"),N=Vue.resolveComponent("el-table-column"),b=Vue.resolveComponent("el-table"),C=Vue.resolveComponent("el-input"),k=Vue.resolveComponent("el-form-item"),h=Vue.resolveComponent("el-form"),x=Vue.resolveComponent("el-dialog");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createVNode(l,{href:"https://www.bilibili.com/video/BV1kv4y1g7nT?p=3",title:"此功能为开发环境使用，不建议发布到生产，具体使用效果请看视频https://www.bilibili.com/video/BV1kv4y1g7nT?p=3"}),Vue.createElementVNode("div",r,[Vue.createElementVNode("div",V,[Vue.createVNode(c,{type:"primary",icon:"plus",onClick:a[0]||(a[0]=e=>{s.value=!0})},{default:Vue.withCtx((()=>[Vue.createTextVNode("新增")])),_:1}),Vue.createVNode(w,{class:"cursor-pointer",onClick:a[1]||(a[1]=e=>Vue.unref(o)("https://www.bilibili.com/video/BV1kv4y1g7nT?p=3&vd_source=f2640257c21e3b547a790461ed94875e"))},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(u))])),_:1})]),Vue.createVNode(b,{data:v.value},{default:Vue.withCtx((()=>[Vue.createVNode(N,{align:"left",label:"id",width:"60",prop:"ID"}),Vue.createVNode(N,{align:"left",label:"包名",width:"150",prop:"packageName"}),Vue.createVNode(N,{align:"left",label:"展示名",width:"150",prop:"label"}),Vue.createVNode(N,{align:"left",label:"描述","min-width":"150",prop:"desc"}),Vue.createVNode(N,{align:"left",label:"操作",width:"200"},{default:Vue.withCtx((e=>[Vue.createVNode(c,{icon:"delete",type:"primary",link:"",onClick:a=>(async e=>{ElementPlus.ElMessageBox.confirm("此操作仅删除数据库中的pkg存储，后端相应目录结构请自行删除与数据库保持一致！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{0===(await t(e)).code&&(ElementPlus.ElMessage({type:"success",message:"删除成功!"}),g())}))})(e.row)},{default:Vue.withCtx((()=>[Vue.createTextVNode("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),Vue.createVNode(x,{modelValue:s.value,"onUpdate:modelValue":a[5]||(a[5]=e=>s.value=e),"before-close":m,title:"创建Package"},{footer:Vue.withCtx((()=>[Vue.createElementVNode("div",d,[Vue.createVNode(c,{onClick:m},{default:Vue.withCtx((()=>[Vue.createTextVNode("取 消")])),_:1}),Vue.createVNode(c,{type:"primary",onClick:f},{default:Vue.withCtx((()=>[Vue.createTextVNode("确 定")])),_:1})])])),default:Vue.withCtx((()=>[Vue.createVNode(l,{title:"新增Pkg用于自动化代码使用"}),Vue.createVNode(h,{ref_key:"pkgForm",ref:p,model:i.value,rules:n.value,"label-width":"80px"},{default:Vue.withCtx((()=>[Vue.createVNode(k,{label:"包名",prop:"packageName"},{default:Vue.withCtx((()=>[Vue.createVNode(C,{modelValue:i.value.packageName,"onUpdate:modelValue":a[2]||(a[2]=e=>i.value.packageName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),Vue.createVNode(k,{label:"展示名",prop:"label"},{default:Vue.withCtx((()=>[Vue.createVNode(C,{modelValue:i.value.label,"onUpdate:modelValue":a[3]||(a[3]=e=>i.value.label=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),Vue.createVNode(k,{label:"描述",prop:"desc"},{default:Vue.withCtx((()=>[Vue.createVNode(C,{modelValue:i.value.desc,"onUpdate:modelValue":a[4]||(a[4]=e=>i.value.desc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{c as default};
