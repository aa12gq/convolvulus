/*! 
 Build based on gin-vue-admin 
 Time : 1705391497000 */
import e from"./fieldDialog-1ae5578a.js";import l from"./previewCodeDialg-67f51ff7.js";import{a,b as t,t as u,c as o}from"./stringFun-647a78e9.js";import{p as d,c as r,g as V,a as i,b as n,d as c,e as s}from"./autoCode-c4ad6525.js";import{u as m}from"./dictionary-b8ecc85f.js";import{W as p}from"./warningBar-4e9b9d77.js";import"./sysDictionary-30d98c9c.js";import"./index-e8818864.js";import"./.pnpm-8206d43d.js";import"vue";const v={class:"gva-search-box"},N={style:{fontSize:"16px",paddingLeft:"20px"}},f={style:{float:"right",color:"#8492a6","font-size":"13px"}},b={class:"gva-search-box"},h={style:{float:"right",color:"#8492a6","font-size":"13px"}},x=Vue.createElementVNode("div",null," 自动创建API ",-1),C=Vue.createElementVNode("div",null," 自动移动文件 ",-1),w={class:"gva-table-box"},g={class:"gva-btn-list"},y=Vue.createElementVNode("p",null,"确定删除吗？",-1),k={style:{"text-align":"right","margin-top":"8px"}},_={class:"gva-btn-list justify-end mt-4"},E={class:"dialog-footer"},T={class:"flex items-center py-1.5"},B=Vue.createElementVNode("p",null,"操作栏：",-1),U={class:"dialog-footer",style:{"padding-top":"14px","padding-right":"14px"}},D=Object.assign({name:"AutoCode"},{__name:"index",setup(D){const S=Vue.ref([{label:"字符串",value:"string"},{label:"富文本",value:"richtext"},{label:"整型",value:"int"},{label:"布尔值",value:"bool"},{label:"浮点型",value:"float64"},{label:"时间",value:"time.Time"},{label:"枚举",value:"enum"},{label:"单图片（字符串）",value:"picture"},{label:"多图片（json字符串）",value:"pictures"},{label:"视频（字符串）",value:"video"},{label:"文件（json字符串）",value:"file"}]),L=Vue.ref([{label:"=",value:"="},{label:"<>",value:"<>"},{label:">",value:">"},{label:"<",value:"<"},{label:"LIKE",value:"LIKE"},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}]),F={fieldName:"",fieldDesc:"",fieldType:"",dataType:"",fieldJson:"",columnName:"",dataTypeLong:"",comment:"",require:!1,sort:!1,errorText:"",clearable:!0,fieldSearchType:"",dictType:""},j=VueRouter.useRoute(),q=VueRouter.useRouter(),M=Vue.reactive([]),R=Vue.ref({}),J=Vue.ref({businessDB:"",dbName:"",tableName:""}),O=Vue.ref([]),P=Vue.ref(""),A=Vue.ref({}),I=Vue.ref({structName:"",tableName:"",packageName:"",package:"",abbreviation:"",description:"",businessDB:"",autoCreateApiToSql:!0,autoMoveFile:!0,autoCreateResource:!1,fields:[]}),W=Vue.ref({structName:[{required:!0,message:"请输入结构体名称",trigger:"blur"}],abbreviation:[{required:!0,message:"请输入结构体简称",trigger:"blur"}],description:[{required:!0,message:"请输入结构体描述",trigger:"blur"}],packageName:[{required:!0,message:"文件名称：sysXxxxXxxx",trigger:"blur"}],package:[{required:!0,message:"请选择package",trigger:"blur"}]}),$=Vue.ref({}),z=Vue.ref({}),X=Vue.ref(!1),G=Vue.ref(!1),K=Vue.ref(null),Q=()=>{K.value.selectText()},H=()=>{K.value.copy()},Y=e=>{X.value=!0,e?(P.value="edit",z.value=JSON.parse(JSON.stringify(e)),$.value=e):(P.value="add",$.value=JSON.parse(JSON.stringify(F)))},Z=Vue.getCurrentInstance(),ee=()=>{Z.refs.fieldDialogNode.fieldDialogFrom.validate((e=>{if(!e)return!1;$.value.fieldName=t($.value.fieldName),"add"===P.value&&I.value.fields.push($.value),X.value=!1}))},le=()=>{"edit"===P.value&&($.value=z.value),X.value=!1},ae=Vue.ref(null),te=async e=>I.value.fields.length<=0?(ElementPlus.ElMessage({type:"error",message:"请填写至少一个field"}),!1):I.value.fields.some((e=>e.fieldName===I.value.structName))?(ElementPlus.ElMessage({type:"error",message:"存在与结构体同名的字段"}),!1):I.value.package===I.value.abbreviation?(ElementPlus.ElMessage({type:"error",message:"package和结构体简称不可同名"}),!1):void ae.value.validate((async l=>{var o;if(!l)return!1;for(const e in I.value)"string"==typeof I.value[e]&&(I.value[e]=I.value[e].trim());if(I.value.structName=t(I.value.structName),I.value.tableName=I.value.tableName.replace(" ",""),I.value.tableName||(I.value.tableName=u(a(I.value.structName))),I.value.structName===I.value.abbreviation)return ElementPlus.ElMessage({type:"error",message:"structName和struct简称不能相同"}),!1;if(I.value.humpPackageName=u(I.value.packageName),e){const e=await d(I.value);R.value=e.data.autoCode,G.value=!0}else{const e=await r(I.value);if("false"===(null==(o=e.headers)?void 0:o.success))return;if(I.value.autoMoveFile)return void ElementPlus.ElMessage({type:"success",message:"自动化代码创建成功，自动移动成功"});ElementPlus.ElMessage({type:"success",message:"自动化代码创建成功，正在下载"});const l=new Blob([e]),a="ginvueadmin.zip";if("download"in document.createElement("a")){const e=window.URL.createObjectURL(l),t=document.createElement("a");t.style.display="none",t.href=e,t.setAttribute("download",a),document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(e)}else window.navigator.msSaveBlob(l,a)}})),ue=Vue.ref([]),oe=Vue.ref([]),de=async()=>{J.value.dbName="",J.value.tableName="";const e=await V({businessDB:J.value.businessDB});0===e.code&&(oe.value=e.data.dbs,ue.value=e.data.dbList)},re=async()=>{const e=await i({businessDB:J.value.businessDB,dbName:J.value.dbName});0===e.code&&(O.value=e.data.tables),J.value.tableName=""},Ve=async()=>{const e=["id","created_at","updated_at","deleted_at"],l=await n(J.value);if(0===l.code){let a="";if(""!==J.value.businessDB){const e=ue.value.find((e=>e.aliasName===J.value.businessDB)),l=Vue.toRaw(e);a=l.dbtype}const u=o(J.value.tableName);I.value.structName=t(u),I.value.tableName=J.value.tableName,I.value.packageName=u,I.value.abbreviation=u,I.value.description=u+"表",I.value.autoCreateApiToSql=!0,I.value.autoMoveFile=!0,I.value.fields=[],l.data.columns&&l.data.columns.forEach((l=>{if(!e.some((e=>e===l.columnName))){const e=o(l.columnName);I.value.fields.push({fieldName:t(e),fieldDesc:l.columnComment||e+"字段",fieldType:A.value[l.dataType],dataType:l.dataType,fieldJson:e,dataTypeLong:l.dataTypeLong&&l.dataTypeLong.split(",")[0],columnName:"oracle"===a?l.columnName.toUpperCase():l.columnName,comment:l.columnComment,require:!1,errorText:"",clearable:!0,fieldSearchType:"",dictType:""})}}))}},ie=async()=>{["string","int","bool","float64","time.Time"].forEach((async e=>{const l=await(async e=>{const l=m();return await l.getDictionary(e),l.dictionaryMap[e]})(e);l&&l.forEach((l=>{A.value[l.label]=e}))}))},ne=Vue.ref([]),ce=async()=>{const e=await c();0===e.code&&(ne.value=e.data.pkgs)},se=()=>{q.push({name:"autoPkg"})},me=()=>{de(),ie(),ce();const e=j.params.id;e&&(async e=>{const l=await s({id:Number(e)});0===l.code&&(I.value=JSON.parse(l.data.meta))})(e)};return me(),Vue.watch((()=>j.params.id),(()=>{"autoCodeEdit"===j.name&&me()})),(t,u)=>{const o=Vue.resolveComponent("pointer"),d=Vue.resolveComponent("el-icon"),r=Vue.resolveComponent("QuestionFilled"),V=Vue.resolveComponent("el-tooltip"),i=Vue.resolveComponent("el-option"),n=Vue.resolveComponent("el-select"),c=Vue.resolveComponent("el-form-item"),s=Vue.resolveComponent("el-button"),m=Vue.resolveComponent("el-form"),D=Vue.resolveComponent("el-collapse-item"),F=Vue.resolveComponent("el-collapse"),j=Vue.resolveComponent("el-input"),q=Vue.resolveComponent("refresh"),P=Vue.resolveComponent("document-add"),A=Vue.resolveComponent("el-checkbox"),z=Vue.resolveComponent("el-table-column"),Z=Vue.resolveComponent("el-popover"),ie=Vue.resolveComponent("el-table"),me=Vue.resolveComponent("el-dialog");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createVNode(p,{href:"https://www.bilibili.com/video/BV1kv4y1g7nT?p=3",title:"此功能为开发环境使用，不建议发布到生产，具体使用效果请看视频https://www.bilibili.com/video/BV1kv4y1g7nT?p=3"}),Vue.createElementVNode("div",v,[Vue.createVNode(F,{modelValue:M,"onUpdate:modelValue":u[3]||(u[3]=e=>M=e),style:{"margin-bottom":"12px"}},{default:Vue.withCtx((()=>[Vue.createVNode(D,{name:"1"},{title:Vue.withCtx((()=>[Vue.createElementVNode("div",N,[Vue.createTextVNode(" 点这里从现有数据库创建代码 "),Vue.createVNode(d,{class:"header-icon"},{default:Vue.withCtx((()=>[Vue.createVNode(o)])),_:1})])])),default:Vue.withCtx((()=>[Vue.createVNode(m,{ref:"getTableForm",style:{"margin-top":"24px"},inline:!0,model:J.value,"label-width":"120px"},{default:Vue.withCtx((()=>[Vue.createVNode(c,{label:"业务库",prop:"selectDBtype"},{label:Vue.withCtx((()=>[Vue.createVNode(V,{content:"注：需要提前到db-list自行配置多数据库，如未配置需配置后重启服务方可使用。（此处可选择对应库表，可理解为从哪个库选择表）",placement:"bottom",effect:"light"},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",null,[Vue.createTextVNode(" 业务库 "),Vue.createVNode(d,null,{default:Vue.withCtx((()=>[Vue.createVNode(r)])),_:1})])])),_:1})])),default:Vue.withCtx((()=>[Vue.createVNode(n,{modelValue:J.value.businessDB,"onUpdate:modelValue":u[0]||(u[0]=e=>J.value.businessDB=e),clearable:"",style:{width:"194px"},placeholder:"选择业务库",onChange:de},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(ue.value,(e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.aliasName,value:e.aliasName,label:e.aliasName,disabled:e.disable},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",null,[Vue.createElementVNode("span",null,Vue.toDisplayString(e.aliasName),1),Vue.createElementVNode("span",f,Vue.toDisplayString(e.dbName),1)])])),_:2},1032,["value","label","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),Vue.createVNode(c,{label:"数据库名",prop:"structName"},{default:Vue.withCtx((()=>[Vue.createVNode(n,{modelValue:J.value.dbName,"onUpdate:modelValue":u[1]||(u[1]=e=>J.value.dbName=e),clearable:"",filterable:"",placeholder:"请选择数据库",onChange:re},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(oe.value,(e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.database,label:e.database,value:e.database},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),Vue.createVNode(c,{label:"表名",prop:"structName"},{default:Vue.withCtx((()=>[Vue.createVNode(n,{modelValue:J.value.tableName,"onUpdate:modelValue":u[2]||(u[2]=e=>J.value.tableName=e),disabled:!J.value.dbName,filterable:"",placeholder:"请选择表"},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(O.value,(e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.tableName,label:e.tableName,value:e.tableName},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),Vue.createVNode(c,null,{default:Vue.withCtx((()=>[Vue.createVNode(s,{type:"primary",onClick:Ve},{default:Vue.withCtx((()=>[Vue.createTextVNode("使用此表创建")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])),_:1},8,["modelValue"])]),Vue.createElementVNode("div",b,[Vue.createVNode(m,{ref_key:"autoCodeForm",ref:ae,rules:W.value,model:I.value,"label-width":"120px",inline:!0},{default:Vue.withCtx((()=>[Vue.createVNode(c,{label:"Struct名称",prop:"structName"},{default:Vue.withCtx((()=>[Vue.createVNode(j,{modelValue:I.value.structName,"onUpdate:modelValue":u[4]||(u[4]=e=>I.value.structName=e),placeholder:"首字母自动转换大写"},null,8,["modelValue"])])),_:1}),Vue.createVNode(c,{label:"TableName",prop:"tableName"},{default:Vue.withCtx((()=>[Vue.createVNode(j,{modelValue:I.value.tableName,"onUpdate:modelValue":u[5]||(u[5]=e=>I.value.tableName=e),placeholder:"指定表名（非必填）"},null,8,["modelValue"])])),_:1}),Vue.createVNode(c,{label:"Struct简称",prop:"abbreviation"},{default:Vue.withCtx((()=>[Vue.createVNode(j,{modelValue:I.value.abbreviation,"onUpdate:modelValue":u[6]||(u[6]=e=>I.value.abbreviation=e),placeholder:"简称会作为入参对象名和路由group"},null,8,["modelValue"])])),_:1}),Vue.createVNode(c,{label:"Struct中文名称",prop:"description"},{default:Vue.withCtx((()=>[Vue.createVNode(j,{modelValue:I.value.description,"onUpdate:modelValue":u[7]||(u[7]=e=>I.value.description=e),placeholder:"中文描述作为自动api描述"},null,8,["modelValue"])])),_:1}),Vue.createVNode(c,{label:"文件名称",prop:"packageName"},{default:Vue.withCtx((()=>[Vue.createVNode(j,{modelValue:I.value.packageName,"onUpdate:modelValue":u[8]||(u[8]=e=>I.value.packageName=e),placeholder:"生成文件的默认名称(建议为驼峰格式,首字母小写,如sysXxxXxxx)",onBlur:u[9]||(u[9]=e=>{var l,t;(l=I.value)[t="packageName"]=a(l[t])})},null,8,["modelValue"])])),_:1}),Vue.createVNode(c,{label:"Package（包）",prop:"package"},{default:Vue.withCtx((()=>[Vue.createVNode(n,{modelValue:I.value.package,"onUpdate:modelValue":u[10]||(u[10]=e=>I.value.package=e),style:{width:"194px"}},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(ne.value,(e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.ID,value:e.packageName,label:e.packageName},null,8,["value","label"])))),128))])),_:1},8,["modelValue"]),Vue.createVNode(d,{class:"cursor-pointer ml-2 text-gray-600",onClick:ce},{default:Vue.withCtx((()=>[Vue.createVNode(q)])),_:1}),Vue.createVNode(d,{class:"cursor-pointer ml-2 text-gray-600",onClick:se},{default:Vue.withCtx((()=>[Vue.createVNode(P)])),_:1})])),_:1}),Vue.createVNode(c,{label:"业务库",prop:"businessDB"},{label:Vue.withCtx((()=>[Vue.createVNode(V,{content:"注：需要提前到db-list自行配置多数据库，此项为空则会使用gva本库创建自动化代码(global.GVA_DB),填写后则会创建指定库的代码(global.MustGetGlobalDBByDBName(dbname))",placement:"bottom",effect:"light"},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",null,[Vue.createTextVNode(" 业务库 "),Vue.createVNode(d,null,{default:Vue.withCtx((()=>[Vue.createVNode(r)])),_:1})])])),_:1})])),default:Vue.withCtx((()=>[Vue.createVNode(n,{modelValue:I.value.businessDB,"onUpdate:modelValue":u[11]||(u[11]=e=>I.value.businessDB=e),style:{width:"194px"},placeholder:"选择业务库"},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(ue.value,(e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.aliasName,value:e.aliasName,label:e.aliasName,disabled:e.disable},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",null,[Vue.createElementVNode("span",null,Vue.toDisplayString(e.aliasName),1),Vue.createElementVNode("span",h,Vue.toDisplayString(e.dbName),1)])])),_:2},1032,["value","label","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),Vue.createVNode(c,null,{label:Vue.withCtx((()=>[Vue.createVNode(V,{content:"注：会自动在结构体添加 created_by updated_by deleted_by，方便用户进行资源权限控制",placement:"bottom",effect:"light"},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",null,[Vue.createTextVNode(" 创建资源标识 "),Vue.createVNode(d,null,{default:Vue.withCtx((()=>[Vue.createVNode(r)])),_:1})])])),_:1})])),default:Vue.withCtx((()=>[Vue.createVNode(A,{modelValue:I.value.autoCreateResource,"onUpdate:modelValue":u[12]||(u[12]=e=>I.value.autoCreateResource=e)},null,8,["modelValue"])])),_:1}),Vue.createVNode(c,null,{label:Vue.withCtx((()=>[Vue.createVNode(V,{content:"注：把自动生成的API注册进数据库",placement:"bottom",effect:"light"},{default:Vue.withCtx((()=>[x])),_:1})])),default:Vue.withCtx((()=>[Vue.createVNode(A,{modelValue:I.value.autoCreateApiToSql,"onUpdate:modelValue":u[13]||(u[13]=e=>I.value.autoCreateApiToSql=e)},null,8,["modelValue"])])),_:1}),Vue.createVNode(c,null,{label:Vue.withCtx((()=>[Vue.createVNode(V,{content:"注：自动迁移生成的文件到yaml配置的对应位置",placement:"bottom",effect:"light"},{default:Vue.withCtx((()=>[C])),_:1})])),default:Vue.withCtx((()=>[Vue.createVNode(A,{modelValue:I.value.autoMoveFile,"onUpdate:modelValue":u[14]||(u[14]=e=>I.value.autoMoveFile=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["rules","model"])]),Vue.createElementVNode("div",w,[Vue.createElementVNode("div",g,[Vue.createVNode(s,{type:"primary",onClick:u[15]||(u[15]=e=>Y())},{default:Vue.withCtx((()=>[Vue.createTextVNode("新增字段")])),_:1})]),Vue.createVNode(ie,{data:I.value.fields},{default:Vue.withCtx((()=>[Vue.createVNode(z,{align:"left",type:"index",label:"序列",width:"60"}),Vue.createVNode(z,{align:"left",prop:"fieldName",label:"字段名称",width:"160"},{default:Vue.withCtx((({row:e})=>[Vue.createVNode(j,{modelValue:e.fieldName,"onUpdate:modelValue":l=>e.fieldName=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),Vue.createVNode(z,{align:"left",prop:"fieldDesc",label:"中文名",width:"160"},{default:Vue.withCtx((({row:e})=>[Vue.createVNode(j,{modelValue:e.fieldDesc,"onUpdate:modelValue":l=>e.fieldDesc=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),Vue.createVNode(z,{align:"left",prop:"require",label:"必填"},{default:Vue.withCtx((({row:e})=>[Vue.createVNode(A,{modelValue:e.require,"onUpdate:modelValue":l=>e.require=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),Vue.createVNode(z,{align:"left",prop:"sort",label:"排序"},{default:Vue.withCtx((({row:e})=>[Vue.createVNode(A,{modelValue:e.sort,"onUpdate:modelValue":l=>e.sort=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),Vue.createVNode(z,{align:"left",prop:"fieldJson",width:"160px",label:"字段Json"},{default:Vue.withCtx((({row:e})=>[Vue.createVNode(j,{modelValue:e.fieldJson,"onUpdate:modelValue":l=>e.fieldJson=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),Vue.createVNode(z,{align:"left",prop:"fieldType",label:"字段类型",width:"160"},{default:Vue.withCtx((({row:e})=>[Vue.createVNode(n,{modelValue:e.fieldType,"onUpdate:modelValue":l=>e.fieldType=l,style:{width:"100%"},placeholder:"请选择字段类型",clearable:""},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(S.value,(e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1}),Vue.createVNode(z,{align:"left",prop:"dataTypeLong",label:"数据库字段长度",width:"160"},{default:Vue.withCtx((({row:e})=>[Vue.createVNode(j,{modelValue:e.dataTypeLong,"onUpdate:modelValue":l=>e.dataTypeLong=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),Vue.createVNode(z,{align:"left",prop:"columnName",label:"数据库字段",width:"160"},{default:Vue.withCtx((({row:e})=>[Vue.createVNode(j,{modelValue:e.columnName,"onUpdate:modelValue":l=>e.columnName=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),Vue.createVNode(z,{align:"left",prop:"comment",label:"数据库字段描述",width:"160"},{default:Vue.withCtx((({row:e})=>[Vue.createVNode(j,{modelValue:e.columnName,"onUpdate:modelValue":l=>e.columnName=l},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),Vue.createVNode(z,{align:"left",prop:"fieldSearchType",label:"搜索条件",width:"130"},{default:Vue.withCtx((({row:e})=>[Vue.createVNode(n,{modelValue:e.fieldSearchType,"onUpdate:modelValue":l=>e.fieldSearchType=l,style:{width:"100%"},placeholder:"请选择字段查询条件",clearable:""},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(L.value,(l=>(Vue.openBlock(),Vue.createBlock(i,{key:l.value,label:l.label,value:l.value,disabled:"string"!==e.fieldType&&"LIKE"===l.value||"int"!==e.fieldType&&"time.Time"!==e.fieldType&&"float64"!==e.fieldType&&("BETWEEN"===l.value||"NOT BETWEEN"===l.value)},null,8,["label","value","disabled"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1}),Vue.createVNode(z,{align:"left",label:"操作",width:"300",fixed:"right"},{default:Vue.withCtx((e=>[Vue.createVNode(s,{type:"primary",link:"",icon:"edit",onClick:l=>Y(e.row)},{default:Vue.withCtx((()=>[Vue.createTextVNode("高级编辑")])),_:2},1032,["onClick"]),Vue.createVNode(s,{type:"primary",link:"",disabled:0===e.$index,onClick:l=>(e=>{if(0===e)return;const l=I.value.fields[e-1];I.value.fields.splice(e-1,1),I.value.fields.splice(e,0,l)})(e.$index)},{default:Vue.withCtx((()=>[Vue.createTextVNode("上移")])),_:2},1032,["disabled","onClick"]),Vue.createVNode(s,{type:"primary",link:"",disabled:e.$index+1===I.value.fields.length,onClick:l=>(e=>{if(e===I.value.fields.length-1)return;const l=I.value.fields[e+1];I.value.fields.splice(e+1,1),I.value.fields.splice(e,0,l)})(e.$index)},{default:Vue.withCtx((()=>[Vue.createTextVNode("下移")])),_:2},1032,["disabled","onClick"]),Vue.createVNode(Z,{modelValue:e.row.visible,"onUpdate:modelValue":l=>e.row.visible=l,placement:"top"},{reference:Vue.withCtx((()=>[Vue.createVNode(s,{type:"primary",link:"",icon:"delete",onClick:l=>e.row.visible=!0},{default:Vue.withCtx((()=>[Vue.createTextVNode("删除")])),_:2},1032,["onClick"])])),default:Vue.withCtx((()=>[y,Vue.createElementVNode("div",k,[Vue.createVNode(s,{type:"primary",link:"",onClick:l=>e.row.visible=!1},{default:Vue.withCtx((()=>[Vue.createTextVNode("取消")])),_:2},1032,["onClick"]),Vue.createVNode(s,{type:"primary",onClick:l=>{return a=e.$index,void I.value.fields.splice(a,1);var a}},{default:Vue.withCtx((()=>[Vue.createTextVNode("确定")])),_:2},1032,["onClick"])])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["data"]),Vue.createElementVNode("div",_,[Vue.createVNode(s,{type:"primary",onClick:u[16]||(u[16]=e=>te(!0))},{default:Vue.withCtx((()=>[Vue.createTextVNode("预览代码")])),_:1}),Vue.createVNode(s,{type:"primary",onClick:u[17]||(u[17]=e=>te(!1))},{default:Vue.withCtx((()=>[Vue.createTextVNode("生成代码")])),_:1})])]),Vue.createVNode(me,{modelValue:X.value,"onUpdate:modelValue":u[18]||(u[18]=e=>X.value=e),width:"70%",title:"组件内容"},{footer:Vue.withCtx((()=>[Vue.createElementVNode("div",E,[Vue.createVNode(s,{onClick:le},{default:Vue.withCtx((()=>[Vue.createTextVNode("取 消")])),_:1}),Vue.createVNode(s,{type:"primary",onClick:ee},{default:Vue.withCtx((()=>[Vue.createTextVNode("确 定")])),_:1})])])),default:Vue.withCtx((()=>[X.value?(Vue.openBlock(),Vue.createBlock(e,{key:0,ref:"fieldDialogNode","dialog-middle":$.value,"type-options":S.value,"type-search-options":L.value},null,8,["dialog-middle","type-options","type-search-options"])):Vue.createCommentVNode("",!0)])),_:1},8,["modelValue"]),Vue.createVNode(me,{modelValue:G.value,"onUpdate:modelValue":u[20]||(u[20]=e=>G.value=e)},{header:Vue.withCtx((()=>[Vue.createElementVNode("div",T,[B,Vue.createVNode(s,{type:"primary",onClick:Q},{default:Vue.withCtx((()=>[Vue.createTextVNode("全选")])),_:1}),Vue.createVNode(s,{type:"primary",onClick:H},{default:Vue.withCtx((()=>[Vue.createTextVNode("复制")])),_:1})])])),footer:Vue.withCtx((()=>[Vue.createElementVNode("div",U,[Vue.createVNode(s,{type:"primary",onClick:u[19]||(u[19]=e=>G.value=!1)},{default:Vue.withCtx((()=>[Vue.createTextVNode("确 定")])),_:1})])])),default:Vue.withCtx((()=>[G.value?(Vue.openBlock(),Vue.createBlock(l,{key:0,ref_key:"previewNode",ref:K,"preview-code":R.value},null,8,["preview-code"])):Vue.createCommentVNode("",!0)])),_:1},8,["modelValue"])])}}});export{D as default};
