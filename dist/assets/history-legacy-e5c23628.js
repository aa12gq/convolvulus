/*! 
 Build based on gin-vue-admin 
 Time : 1705391497000 */
!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register(["./index-legacy-65d10e67.js","./.pnpm-legacy-10f1d416.js","vue"],(function(n,r){"use strict";var a,u,o;return{setters:[function(e){a=e.u,u=e.e,o=e.f},null,null],execute:function(){var r=document.createElement("style");r.textContent='.contextmenu{width:120px;margin:0;border:none;background:#333;z-index:3000;position:absolute;list-style-type:none;padding:5px 0;border-radius:6px;font-size:14px;color:#fff;box-shadow:4px 4px 8px rgba(0,0,0,.3)}.el-tabs__item .el-icon-close{color:#fff!important}.el-tabs__item .dot{content:"";width:9px;height:9px;margin-right:8px;display:inline-block;border-radius:50%;transition:background-color .2s}.contextmenu li{margin:0;padding:10px 20px}.contextmenu li:hover{background:#555;cursor:pointer}.el-tabs--card>.el-tabs__header{background-color:#f5f3f3}.gva-tab .el-tabs__item.is-active{color:#409eff!important;border-bottom-color:#409eff!important}.gva-tab .el-tabs__item{padding:10px 15px}.gva-tab .el-tabs__item:hover{color:#409eff}.gva-tab .el-tabs__close{color:#c0c4cc}.gva-tab .el-tabs__close:hover{color:#f56c6c}.gva-tab .dot{margin-right:4px}\n',document.head.appendChild(r);var l={class:"router-history"},i=["tab"];n("default",Object.assign({name:"HistoryComponent"},{__name:"history",setup:function(n){var r=VueRouter.useRoute(),s=VueRouter.useRouter(),c=function(e){return e.name+JSON.stringify(e.query)+JSON.stringify(e.params)},f=Vue.ref([]),v=Vue.ref(""),m=Vue.ref(!1),p=a(),d=function(e){return e.name+JSON.stringify(e.query)+JSON.stringify(e.params)},g=Vue.ref(0),y=Vue.ref(0),b=Vue.ref(!1),V=Vue.ref(!1),h=Vue.ref(""),S=Vue.computed((function(){return p.userInfo.authority.defaultRouter})),x=function(){f.value=[{name:S.value,meta:{title:"首页"},query:{},params:{}}],s.push({name:S.value}),m.value=!1,sessionStorage.setItem("historys",JSON.stringify(f.value))},O=function(){var e,t=f.value.findIndex((function(t){return c(t)===h.value&&(e=t),c(t)===h.value})),n=f.value.findIndex((function(e){return c(e)===v.value}));f.value.splice(0,t),t>n&&s.push(e),sessionStorage.setItem("historys",JSON.stringify(f.value))},w=function(){var e,t=f.value.findIndex((function(t){return c(t)===h.value&&(e=t),c(t)===h.value})),n=f.value.findIndex((function(e){return c(e)===v.value}));f.value.splice(t+1,f.value.length),t<n&&s.push(e),sessionStorage.setItem("historys",JSON.stringify(f.value))},k=function(){var e;f.value=f.value.filter((function(t){return c(t)===h.value&&(e=t),c(t)===h.value})),s.push(e),sessionStorage.setItem("historys",JSON.stringify(f.value))},N=function(n){if(!f.value.some((function(e){return function(e,t){if(e.name!==t.name)return!1;if(Object.keys(e.query).length!==Object.keys(t.query).length||Object.keys(e.params).length!==Object.keys(t.params).length)return!1;for(var n in e.query)if(e.query[n]!==t.query[n])return!1;for(var r in e.params)if(e.params[r]!==t.params[r])return!1;return!0}(e,n)}))){var r={};r.name=n.name,r.meta=function(n){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?e(Object(a),!0).forEach((function(e){t(n,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}))}return n}({},n.meta),delete r.meta.matched,r.query=n.query,r.params=n.params,f.value.push(r)}window.sessionStorage.setItem("activeValue",c(n))},j=Vue.ref({}),_=function(e){var t,n=null==e||null===(t=e.props)||void 0===t?void 0:t.name;if(n){var r=j.value[n];s.push({name:r.name,query:r.query,params:r.params})}},E=function(e){var t=f.value.findIndex((function(t){return c(t)===e}));c(r)===e&&(1===f.value.length?s.push({name:S.value}):t<f.value.length-1?s.push({name:f.value[t+1].name,query:f.value[t+1].query,params:f.value[t+1].params}):s.push({name:f.value[t-1].name,query:f.value[t-1].query,params:f.value[t-1].params})),f.value.splice(t,1)};Vue.watch((function(){return m.value}),(function(){m.value?document.body.addEventListener("click",(function(){m.value=!1})):document.body.removeEventListener("click",(function(){m.value=!1}))})),Vue.watch((function(){return r}),(function(e,t){"Login"!==e.name&&"Reload"!==e.name&&(f.value=f.value.filter((function(e){return!e.meta.closeTab})),N(e),sessionStorage.setItem("historys",JSON.stringify(f.value)),v.value=window.sessionStorage.getItem("activeValue"))}),{deep:!0}),Vue.watch((function(){return f.value}),(function(){sessionStorage.setItem("historys",JSON.stringify(f.value)),j.value={},f.value.forEach((function(e){j.value[c(e)]=e})),u.emit("setKeepAlive",f.value)}),{deep:!0});return function(){u.on("closeThisPage",(function(){E(d(r))})),u.on("closeAllPage",(function(){x()})),u.on("mobile",(function(e){V.value=e})),u.on("collapse",(function(e){b.value=e}));var e=[{name:S.value,meta:{title:"首页"},query:{},params:{}}];f.value=JSON.parse(sessionStorage.getItem("historys"))||e,window.sessionStorage.getItem("activeValue")?v.value=window.sessionStorage.getItem("activeValue"):v.value=c(r),N(r),"true"===window.sessionStorage.getItem("needCloseAll")&&(x(),window.sessionStorage.removeItem("needCloseAll"))}(),Vue.onUnmounted((function(){u.off("collapse"),u.off("mobile")})),function(e,t){var n=Vue.resolveComponent("el-tab-pane"),a=Vue.resolveComponent("el-tabs");return Vue.openBlock(),Vue.createElementBlock("div",l,[Vue.createVNode(a,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return v.value=e}),closable:!(1===f.value.length&&e.$route.name===S.value),type:"card",onContextmenu:t[1]||(t[1]=Vue.withModifiers((function(e){return function(e){if(1===f.value.length&&r.name===S.value)return!1;var t,n="";(n="SPAN"===e.srcElement.nodeName?e.srcElement.offsetParent.id:e.srcElement.id)&&(m.value=!0,t=b.value?54:220,V.value&&(t=0),g.value=e.clientX-t,y.value=e.clientY+10,h.value=n.substring(4))}(e)}),["prevent"])),onTabClick:_,onTabRemove:E},{default:Vue.withCtx((function(){return[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(f.value,(function(e){return Vue.openBlock(),Vue.createBlock(n,{key:d(e),label:e.meta.title,name:d(e),tab:e,class:"gva-tab"},{label:Vue.withCtx((function(){return[Vue.createElementVNode("span",{tab:e,style:Vue.normalizeStyle({color:v.value===d(e)?Vue.unref(p).activeColor:"#333"})},[Vue.createElementVNode("i",{class:"dot",style:Vue.normalizeStyle({backgroundColor:v.value===d(e)?Vue.unref(p).activeColor:"#ddd"})},null,4),Vue.createTextVNode(" "+Vue.toDisplayString(Vue.unref(o)(e.meta.title,e)),1)],12,i)]})),_:2},1032,["label","name","tab"])})),128))]})),_:1},8,["modelValue","closable"]),Vue.withDirectives(Vue.createElementVNode("ul",{style:Vue.normalizeStyle({left:g.value+"px",top:y.value+"px"}),class:"contextmenu"},[Vue.createElementVNode("li",{onClick:x},"关闭所有"),Vue.createElementVNode("li",{onClick:O},"关闭左侧"),Vue.createElementVNode("li",{onClick:w},"关闭右侧"),Vue.createElementVNode("li",{onClick:k},"关闭其他")],4),[[Vue.vShow,m.value]])])}}}))}}}))}();
