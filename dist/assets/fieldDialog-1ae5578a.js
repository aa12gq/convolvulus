/*! 
 Build based on gin-vue-admin 
 Time : 1705391497000 */
import{a as e,t as l}from"./stringFun-647a78e9.js";import{g as a}from"./sysDictionary-30d98c9c.js";import{W as u}from"./warningBar-4e9b9d77.js";import"./index-e8818864.js";import"./.pnpm-8206d43d.js";import"vue";const t=Vue.createElementVNode("span",{style:{"font-size":"12px"}},"自动填充",-1),o=Object.assign({name:"FieldDialog"},{__name:"fieldDialog",props:{dialogMiddle:{type:Object,default:function(){return{}}},typeOptions:{type:Array,default:function(){return[]}},typeSearchOptions:{type:Array,default:function(){return[]}}},setup(o,{expose:d}){const r=o,V=Vue.ref({}),n=Vue.ref([]),i=Vue.ref({fieldName:[{required:!0,message:"请输入字段英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入字段中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入字段格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择字段类型",trigger:"blur"}]});(async()=>{V.value=r.dialogMiddle;const e=await a({page:1,pageSize:999999});n.value=e.data.list})();const c=()=>{V.value.fieldJson=e(V.value.fieldName),V.value.columnName=l(V.value.fieldJson)},m=e=>{const l=V.value.fieldType;return"string"!==l&&"LIKE"===e||"int"!==l&&"time.Time"!==l&&"float64"!==l&&("BETWEEN"===e||"NOT BETWEEN"===e)},p=()=>{V.value.fieldSearchType="",V.value.dictType=""},s=Vue.ref(null);return d({fieldDialogFrom:s}),(e,l)=>{const a=Vue.resolveComponent("el-input"),d=Vue.resolveComponent("el-button"),r=Vue.resolveComponent("el-form-item"),f=Vue.resolveComponent("el-option"),v=Vue.resolveComponent("el-select"),b=Vue.resolveComponent("el-switch"),y=Vue.resolveComponent("el-form");return Vue.openBlock(),Vue.createElementBlock("div",null,[Vue.createVNode(u,{title:"id , created_at , updated_at , deleted_at 会自动生成请勿重复创建。搜索时如果条件为LIKE只支持字符串"}),Vue.createVNode(y,{ref_key:"fieldDialogFrom",ref:s,model:V.value,"label-width":"120px","label-position":"right",rules:i.value,class:"grid grid-cols-2"},{default:Vue.withCtx((()=>[Vue.createVNode(r,{label:"字段名称",prop:"fieldName"},{default:Vue.withCtx((()=>[Vue.createVNode(a,{modelValue:V.value.fieldName,"onUpdate:modelValue":l[0]||(l[0]=e=>V.value.fieldName=e),autocomplete:"off",style:{width:"80%"}},null,8,["modelValue"]),Vue.createVNode(d,{style:{width:"18%","margin-left":"2%"},onClick:c},{default:Vue.withCtx((()=>[t])),_:1})])),_:1}),Vue.createVNode(r,{label:"字段中文名",prop:"fieldDesc"},{default:Vue.withCtx((()=>[Vue.createVNode(a,{modelValue:V.value.fieldDesc,"onUpdate:modelValue":l[1]||(l[1]=e=>V.value.fieldDesc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),Vue.createVNode(r,{label:"字段JSON",prop:"fieldJson"},{default:Vue.withCtx((()=>[Vue.createVNode(a,{modelValue:V.value.fieldJson,"onUpdate:modelValue":l[2]||(l[2]=e=>V.value.fieldJson=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),Vue.createVNode(r,{label:"数据库字段名",prop:"columnName"},{default:Vue.withCtx((()=>[Vue.createVNode(a,{modelValue:V.value.columnName,"onUpdate:modelValue":l[3]||(l[3]=e=>V.value.columnName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),Vue.createVNode(r,{label:"数据库字段描述",prop:"comment"},{default:Vue.withCtx((()=>[Vue.createVNode(a,{modelValue:V.value.comment,"onUpdate:modelValue":l[4]||(l[4]=e=>V.value.comment=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),Vue.createVNode(r,{label:"字段类型",prop:"fieldType"},{default:Vue.withCtx((()=>[Vue.createVNode(v,{modelValue:V.value.fieldType,"onUpdate:modelValue":l[5]||(l[5]=e=>V.value.fieldType=e),style:{width:"100%"},placeholder:"请选择字段类型",clearable:"",onChange:p},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(o.typeOptions,(e=>(Vue.openBlock(),Vue.createBlock(f,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),Vue.createVNode(r,{label:"enum"===V.value.fieldType?"枚举值":"类型长度",prop:"dataTypeLong"},{default:Vue.withCtx((()=>[Vue.createVNode(a,{modelValue:V.value.dataTypeLong,"onUpdate:modelValue":l[6]||(l[6]=e=>V.value.dataTypeLong=e),placeholder:"enum"===V.value.fieldType?"例:'北京','天津'":"数据库类型长度"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),Vue.createVNode(r,{label:"字段查询条件",prop:"fieldSearchType"},{default:Vue.withCtx((()=>[Vue.createVNode(v,{modelValue:V.value.fieldSearchType,"onUpdate:modelValue":l[7]||(l[7]=e=>V.value.fieldSearchType=e),style:{width:"100%"},placeholder:"请选择字段查询条件",clearable:""},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(o.typeSearchOptions,(e=>(Vue.openBlock(),Vue.createBlock(f,{key:e.value,label:e.label,value:e.value,disabled:m(e.value)},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),Vue.createVNode(r,{label:"关联字典",prop:"dictType"},{default:Vue.withCtx((()=>[Vue.createVNode(v,{modelValue:V.value.dictType,"onUpdate:modelValue":l[8]||(l[8]=e=>V.value.dictType=e),style:{width:"100%"},disabled:"int"!==V.value.fieldType,placeholder:"请选择字典",clearable:""},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(n.value,(e=>(Vue.openBlock(),Vue.createBlock(f,{key:e.type,label:"".concat(e.type,"(").concat(e.name,")"),value:e.type},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),Vue.createVNode(r,{label:"是否排序"},{default:Vue.withCtx((()=>[Vue.createVNode(b,{modelValue:V.value.sort,"onUpdate:modelValue":l[9]||(l[9]=e=>V.value.sort=e)},null,8,["modelValue"])])),_:1}),Vue.createVNode(r,{label:"是否必填"},{default:Vue.withCtx((()=>[Vue.createVNode(b,{modelValue:V.value.require,"onUpdate:modelValue":l[10]||(l[10]=e=>V.value.require=e)},null,8,["modelValue"])])),_:1}),Vue.createVNode(r,{label:"是否可清空"},{default:Vue.withCtx((()=>[Vue.createVNode(b,{modelValue:V.value.clearable,"onUpdate:modelValue":l[11]||(l[11]=e=>V.value.clearable=e)},null,8,["modelValue"])])),_:1}),Vue.createVNode(r,{label:"校验失败文案"},{default:Vue.withCtx((()=>[Vue.createVNode(a,{modelValue:V.value.errorText,"onUpdate:modelValue":l[12]||(l[12]=e=>V.value.errorText=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])}}});export{o as default};
