/*! 
 Build based on gin-vue-admin 
 Time : 1705391497000 */
import{s as e}from"./index-e8818864.js";import{_ as t}from"./_plugin-vue_export-helper-1b428a4d.js";import"./.pnpm-8206d43d.js";import"vue";const l=""+new URL("login_right_banner-f7acb81b.jpg",import.meta.url).href,a=e=>(Vue.pushScopeId("data-v-161808cc"),e=e(),Vue.popScopeId(),e),o={class:"rounded-lg flex items-center justify-evenly w-full h-full relative bg-white md:w-screen md:h-screen md:bg-[#194bfb] overflow-hidden"},s={class:"rounded-md w-full h-full flex items-center justify-center overflow-hidden"},d=a((()=>Vue.createElementVNode("div",{class:"oblique h-[130%] w-3/5 bg-white transform -rotate-12 absolute -ml-80"},null,-1))),r={class:"text-lg"},u=Vue.createStaticVNode('<div class="font-sans text-4xl font-bold text-center mb-4" data-v-161808cc> 号仙筛号系统 </div><p class="text-gray-600 mb-2" data-v-161808cc>初始化须知</p><p class="text-gray-600 mb-2" data-v-161808cc>1.您需有用一定的VUE和GOLANG基础</p><p class="text-gray-600 mb-2" data-v-161808cc> 2.请您确认是否已经阅读过<a class="text-blue-600 font-bold" href="" target="_blank" data-v-161808cc>官方文档</a><a class="text-blue-600 font-bold" target="_blank" data-v-161808cc>初始化视频</a></p><p class="text-gray-600 mb-2" data-v-161808cc>3.请您确认是否了解后续的配置流程</p><p class="text-gray-600 mb-2" data-v-161808cc> 4.如果您使用mysql数据库，请确认数据库引擎为<span class="text-red-600 font-bold text-3xl ml-2" data-v-161808cc>innoDB</span></p><p class="text-gray-600 mb-2" data-v-161808cc> 注：开发组不为文档中书写过的内容提供无偿服务 </p>',7),c={class:"flex items-center justify-between mt-8"},m={style:{"text-align":"right"}},V=a((()=>Vue.createElementVNode("div",{class:"hidden md:block w-1/2 h-full float-right bg-[#194bfb]"},[Vue.createElementVNode("img",{class:"h-full",src:l,alt:"banner"})],-1))),n=t(Object.assign({name:"Init"},{__name:"index",setup(t){const l=VueRouter.useRouter(),a=Vue.reactive({showReadme:!1,showForm:!1}),n=()=>{a.showReadme=!1,setTimeout((()=>{a.showForm=!0}),20)},p=()=>{window.open("")},i=Vue.ref(!1),b=Vue.reactive({dbType:"mysql",host:"127.0.0.1",port:"3306",userName:"root",password:"",dbName:"gva",dbPath:""}),h=e=>{switch(e){case"mysql":default:Object.assign(b,{dbType:"mysql",host:"127.0.0.1",port:"3306",userName:"root",password:"",dbName:"gva",dbPath:""});break;case"pgsql":Object.assign(b,{dbType:"pgsql",host:"127.0.0.1",port:"5432",userName:"postgres",password:"",dbName:"gva",dbPath:""});break;case"oracle":Object.assign(b,{dbType:"oracle",host:"127.0.0.1",port:"1521",userName:"oracle",password:"",dbName:"gva",dbPath:""});break;case"mssql":Object.assign(b,{dbType:"mssql",host:"127.0.0.1",port:"1433",userName:"mssql",password:"",dbName:"gva",dbPath:""});break;case"sqlite":Object.assign(b,{dbType:"sqlite",host:"",port:"",userName:"",password:"",dbName:"gva",dbPath:""})}},N=async()=>{const t=ElementPlus.ElLoading.service({lock:!0,text:"正在初始化数据库，请稍候",spinner:"loading",background:"rgba(0, 0, 0, 0.7)"});try{const o=await(a=b,e({url:"/init/initdb",method:"post",data:a}));0===o.code&&(i.value=!0,ElementPlus.ElMessage({type:"success",message:o.msg}),l.push({name:"Login"})),t.close()}catch(o){t.close()}var a};return(e,t)=>{const l=Vue.resolveComponent("el-button"),i=Vue.resolveComponent("el-option"),g=Vue.resolveComponent("el-select"),f=Vue.resolveComponent("el-form-item"),y=Vue.resolveComponent("el-input"),v=Vue.resolveComponent("el-form");return Vue.openBlock(),Vue.createElementBlock("div",o,[Vue.createElementVNode("div",s,[d,a.showForm?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",{key:0,class:Vue.normalizeClass([a.showReadme?"slide-out-right":"slide-in-fwd-top"])},[Vue.createElementVNode("div",r,[u,Vue.createElementVNode("p",c,[Vue.createVNode(l,{type:"primary",size:"large",onClick:p},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 阅读文档 ")])),_:1}),Vue.createVNode(l,{type:"primary",size:"large",onClick:n},{default:Vue.withCtx((()=>[Vue.createTextVNode(" 我已确认 ")])),_:1})])])],2)),a.showForm?(Vue.openBlock(),Vue.createElementBlock("div",{key:1,class:Vue.normalizeClass([[a.showForm?"slide-in-left":"slide-out-right"],"w-96"])},[Vue.createVNode(v,{ref:"formRef",model:b,"label-width":"100px",size:"large"},{default:Vue.withCtx((()=>[Vue.createVNode(f,{label:"数据库类型"},{default:Vue.withCtx((()=>[Vue.createVNode(g,{modelValue:b.dbType,"onUpdate:modelValue":t[0]||(t[0]=e=>b.dbType=e),placeholder:"请选择",class:"w-full",onChange:h},{default:Vue.withCtx((()=>[Vue.createVNode(i,{key:"mysql",label:"mysql",value:"mysql"}),Vue.createVNode(i,{key:"pgsql",label:"pgsql",value:"pgsql"}),Vue.createVNode(i,{key:"oracle",label:"oracle",value:"oracle"}),Vue.createVNode(i,{key:"mssql",label:"mssql",value:"mssql"}),Vue.createVNode(i,{key:"sqlite",label:"sqlite",value:"sqlite"})])),_:1},8,["modelValue"])])),_:1}),"sqlite"!==b.dbType?(Vue.openBlock(),Vue.createBlock(f,{key:0,label:"host"},{default:Vue.withCtx((()=>[Vue.createVNode(y,{modelValue:b.host,"onUpdate:modelValue":t[1]||(t[1]=e=>b.host=e),placeholder:"请输入数据库链接"},null,8,["modelValue"])])),_:1})):Vue.createCommentVNode("",!0),"sqlite"!==b.dbType?(Vue.openBlock(),Vue.createBlock(f,{key:1,label:"port"},{default:Vue.withCtx((()=>[Vue.createVNode(y,{modelValue:b.port,"onUpdate:modelValue":t[2]||(t[2]=e=>b.port=e),placeholder:"请输入数据库端口"},null,8,["modelValue"])])),_:1})):Vue.createCommentVNode("",!0),"sqlite"!==b.dbType?(Vue.openBlock(),Vue.createBlock(f,{key:2,label:"userName"},{default:Vue.withCtx((()=>[Vue.createVNode(y,{modelValue:b.userName,"onUpdate:modelValue":t[3]||(t[3]=e=>b.userName=e),placeholder:"请输入数据库用户名"},null,8,["modelValue"])])),_:1})):Vue.createCommentVNode("",!0),"sqlite"!==b.dbType?(Vue.openBlock(),Vue.createBlock(f,{key:3,label:"password"},{default:Vue.withCtx((()=>[Vue.createVNode(y,{modelValue:b.password,"onUpdate:modelValue":t[4]||(t[4]=e=>b.password=e),placeholder:"请输入数据库密码（没有则为空）"},null,8,["modelValue"])])),_:1})):Vue.createCommentVNode("",!0),Vue.createVNode(f,{label:"dbName"},{default:Vue.withCtx((()=>[Vue.createVNode(y,{modelValue:b.dbName,"onUpdate:modelValue":t[5]||(t[5]=e=>b.dbName=e),placeholder:"请输入数据库名称"},null,8,["modelValue"])])),_:1}),"sqlite"===b.dbType?(Vue.openBlock(),Vue.createBlock(f,{key:4,label:"dbPath"},{default:Vue.withCtx((()=>[Vue.createVNode(y,{modelValue:b.dbPath,"onUpdate:modelValue":t[6]||(t[6]=e=>b.dbPath=e),placeholder:"请输入sqlite数据库文件存放路径"},null,8,["modelValue"])])),_:1})):Vue.createCommentVNode("",!0),Vue.createVNode(f,null,{default:Vue.withCtx((()=>[Vue.createElementVNode("div",m,[Vue.createVNode(l,{type:"primary",onClick:N},{default:Vue.withCtx((()=>[Vue.createTextVNode("立即初始化")])),_:1})])])),_:1})])),_:1},8,["model"])],2)):Vue.createCommentVNode("",!0)]),V])}}}),[["__scopeId","data-v-161808cc"]]);export{n as default};
